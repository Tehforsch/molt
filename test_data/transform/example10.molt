let expr, val: Expr;
let pat: Pat;
let input: Expr = {
    match $expr {
        $($arm_in)*
    }
}
let arm_in: Arm = { $pat => Ok($val) };
let arm_out: Arm = { $pat => $val };
let output: Expr = {
    Ok($input) 
};
transform arm_in -> arm_out;
transform input -> output;
